{"version":3,"sources":["images/cats-and-dogs.jpg","Components/LandingPage/LandingPage.js","config.js","API-utilities/API-utilities.js","Components/Pet/Pet.js","Components/People/People.js","Components/Confirmation/Confirmation.js","Components/AdoptionPage/AdoptionPage.js","root/Root.js","index.js"],"names":["module","exports","LandingPage","to","src","require","alt","process","apiService","getCats","fetch","config","then","res","ok","json","e","Promise","reject","getDogs","dequeueAdoptedDog","method","dequeueAdoptedCat","getPeople","dequeuePerson","headers","addPerson","person","newPerson","body","JSON","stringify","Pet","props","className","pet","imageURL","description","age","breed","gender","name","story","readyToAdopt","onClick","event","handleClick","disabled","People","people","map","index","key","Confirmation","adopter","getRandomInt","max","Math","floor","random","AdoptionPage","state","cat","dog","signup","inLine","turnToAdopt","adopted","error","startAdopting","adoptionInterval","setInterval","setState","clearInterval","length","handleAdoptDogClick","preventDefault","handleAdoptCatClick","handleSignupChange","target","value","handleSignupSubmit","catch","console","log","this","htmlFor","onChange","Component","Root","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd180d21.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cats-and-dogs.057f83de.jpg\";","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './LandingPage.css'\r\n\r\nfunction LandingPage() {\r\n    return (\r\n        <div>\r\n            <h1>Petful</h1>\r\n            <h2>Our Mission:</h2>\r\n            <section>\r\n                We aim to be a FIFO (first in first out) adoption center,\r\n                where our first pet in is our first pet\r\n                homed. Guaranteeing that all pets that come through\r\n                our doors are homed.\r\n            </section>\r\n            <h3>How it works:</h3>\r\n            <section>\r\n                Our policy is to adopt out pets in the order in which\r\n                they came to us to ensure every pet is adopted.\r\n                We also apply this same principal to the selection process,\r\n                where the prospective owners are allowed to adopt in the order\r\n                in which they signed up to adopt.\r\n            </section>\r\n            <Link to='/adopt'><button>Adopt!</button></Link>\r\n            <img src={require('../../images/cats-and-dogs.jpg')} alt='A group of cats and dogs waiting for you!' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LandingPage;","export default {\r\n    REACT_APP_API_BASE: process.env.REACT_APP_API_BASE || 'http://localhost:8000/api'\r\n}","import config from '../config';\r\n\r\nconst apiService = {\r\n    getCats() {\r\n        return fetch(`${config.REACT_APP_API_BASE}/cats`)\r\n            .then(res =>\r\n                (!res.ok)\r\n                    ? res.json().then(e => Promise.reject(e))\r\n                    : res.json()\r\n            )\r\n    },\r\n\r\n    getDogs() {\r\n        return fetch(`${config.REACT_APP_API_BASE}/dogs`)\r\n            .then(res =>\r\n                (!res.ok)\r\n                    ? res.json().then(e => Promise.reject(e))\r\n                    : res.json()\r\n            )\r\n    },\r\n\r\n    dequeueAdoptedDog() {\r\n        fetch(`${config.REACT_APP_API_BASE}/dogs`, {\r\n            method: 'DELETE',            \r\n        })\r\n    },\r\n\r\n    dequeueAdoptedCat() {\r\n        fetch(`${config.REACT_APP_API_BASE}/cats`, {\r\n            method: 'DELETE',            \r\n        })\r\n    },\r\n\r\n    getPeople() {\r\n        return fetch(`${config.REACT_APP_API_BASE}/people`)\r\n            .then(res =>\r\n                (!res.ok)\r\n                    ? res.json().then(e => Promise.reject(e))\r\n                    : res.json()\r\n            )\r\n    },\r\n\r\n    dequeuePerson() {\r\n        fetch(`${config.REACT_APP_API_BASE}/people`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n            \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n    },\r\n\r\n    addPerson(person) {\r\n        let newPerson = { \"name\" : person}        \r\n        fetch(`${config.REACT_APP_API_BASE}/people`, {\r\n            method: 'POST',            \r\n            headers: {\r\n            \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(newPerson),\r\n        })\r\n    }\r\n}\r\n\r\nexport default apiService","import React from 'react';\r\nimport './Pet.css';\r\n\r\nconst Pet = (props) => {\r\n    return (\r\n        <div className='pet-card'>\r\n            <img src={props.pet.imageURL} alt={props.pet.description} />\r\n            <section>\r\n                <p>Age: {props.pet.age}</p>\r\n                <p>Breed: {props.pet.breed}</p>\r\n                <p>Description: {props.pet.description}</p>\r\n                <p>Gender: {props.pet.gender}</p>\r\n                <p>Name: {props.pet.name}</p>\r\n                <p>Story: {props.pet.story}</p>\r\n            </section>\r\n            {(props.readyToAdopt) ? \r\n            <button onClick={event => props.handleClick(event)}>Adopt me!</button>\r\n            : <button onClick={event => props.handleClick(event)} disabled>Adopt me!</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pet;","import React from 'react';\r\nimport './People.css';\r\n\r\nconst People = (props) => {\r\n\r\n    return (\r\n        <div className='people-card'>\r\n            <section>\r\n                <h4>Turn to adopt: {props.people[0]}</h4>\r\n            </section>\r\n            <section>\r\n                {props.people.map((person, index) => <p key={index}>{person}</p>)}\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default People;","import React from 'react';\r\nimport './Confirmation.css';\r\n\r\nconst Confirmation = (props) => {\r\n\r\n    return (\r\n        <div className='confirmation-card'>\r\n            <section>\r\n                <h4>Congratulations on your new family member {props.adopter}!</h4>\r\n            </section>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Confirmation;","import React, { Component } from 'react';\r\nimport apiService from '../../API-utilities/API-utilities';\r\nimport Pet from '../Pet/Pet';\r\nimport People from '../People/People';\r\nimport './AdoptionPage.css';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Confirmation from '../Confirmation/Confirmation';\r\n\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nclass AdoptionPage extends Component {\r\n    state = {\r\n        cat: {},\r\n        dog: {},\r\n        people: [],\r\n        signup: \"\",\r\n        inLine: \"\",\r\n        turnToAdopt: \"\",\r\n        readyToAdopt: false,\r\n        adopted: false,\r\n        error: null,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        // let firstCat = await apiService.getCats();\r\n        // let firstDog = await apiService.getDogs();\r\n        // let people = await apiService.getPeople();\r\n\r\n        // this.setState({\r\n        //     cat: firstCat,\r\n        //     dog: firstDog,\r\n        //     people\r\n        // })\r\n        await apiService.getCats()\r\n            .then((res) => {\r\n                this.setState({ cat: res });\r\n            })\r\n            .catch((res) => this.setState({ error: res.error }));        \r\n\r\n        await apiService.getDogs()\r\n            .then((res) => {\r\n                this.setState({ dog: res });\r\n            })\r\n            .catch((res) => this.setState({ error: res.error }));\r\n\r\n        await apiService.getPeople()\r\n            .then((res) => {\r\n                this.setState({ people: res });\r\n            })\r\n            .catch((res) => this.setState({ error: res.error }));\r\n\r\n            console.log(this.state.error);\r\n\r\n        if (this.state.people[0] == this.state.inLine) {\r\n            this.setState({ readyToAdopt: true })\r\n        }\r\n        this.startAdopting();\r\n    }\r\n\r\n    startAdopting = () => {\r\n        let adoptionInterval = setInterval(() => {\r\n            let queueFill = ['Julian', 'Bubbles', 'Jacob Collins', 'George Green', 'Sam Losco']\r\n            /* if person who signed up is the at the front of the queue\r\n               stop the interval and enable pet adoption */\r\n            if ((this.state.people[1] === this.state.inLine)) {\r\n                this.setState({ readyToAdopt: true })\r\n                clearInterval(adoptionInterval)\r\n            }\r\n            // remove first person in line\r\n            apiService.dequeuePerson();\r\n            apiService.addPerson(queueFill[getRandomInt(4)]);\r\n            apiService.getPeople().then(people => this.setState({ people }));\r\n            // alternate between adopting out dog or cat       \r\n            if (this.state.people.length % 2 === 0) {\r\n                apiService.dequeueAdoptedDog()\r\n                apiService.getDogs().then(dog => this.setState({ dog }))\r\n            } else {\r\n                apiService.dequeueAdoptedCat()\r\n                apiService.getCats().then(cat => this.setState({ cat }))\r\n            }\r\n        }, 5000)\r\n    }\r\n\r\n    handleAdoptDogClick = (event) => {\r\n        event.preventDefault();\r\n        apiService.dequeueAdoptedDog();\r\n        apiService.dequeuePerson(this.state.people[0]);\r\n        apiService.getPeople().then(people => this.setState({ people }));\r\n\r\n        apiService.getDogs()\r\n            .then(dog => {\r\n                this.setState({ dog, readyToAdopt: false, adopted: true })\r\n            })\r\n    }\r\n\r\n    handleAdoptCatClick = (event) => {\r\n        event.preventDefault();\r\n        apiService.dequeueAdoptedCat();\r\n        apiService.dequeuePerson(this.state.people[0]);\r\n        apiService.getPeople().then(people => this.setState({ people }));\r\n\r\n        apiService.getCats()\r\n            .then(cat => {\r\n                this.setState({ cat, readyToAdopt: false, adopted: true })\r\n            })\r\n    }\r\n\r\n    handleSignupChange = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            signup: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSignupSubmit = (event) => {\r\n        event.preventDefault();\r\n        // create variable to know when to enable adopt buttons\r\n        this.setState({\r\n            inLine: this.state.signup\r\n        })\r\n        apiService.addPerson(this.state.signup)\r\n        // update state to reflect changes to the adopter list\r\n        apiService.getPeople()\r\n            .then(people => this.setState({\r\n                people\r\n            }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className='adoptionDiv'>\r\n                    <div className='centerDiv'>\r\n                        <People\r\n                            people={this.state.people} />\r\n                    </div>\r\n                    <div className='leftDiv'>\r\n                        <Pet\r\n                            readyToAdopt={this.state.readyToAdopt}\r\n                            inLine={this.state.inLine}\r\n                            pet={this.state.cat}\r\n                            handleClick={this.handleAdoptCatClick} />\r\n                    </div>\r\n                    <div className='rightDiv'>\r\n                        <Pet\r\n                            readyToAdopt={this.state.readyToAdopt}\r\n                            inLine={this.state.inLine}\r\n                            pet={this.state.dog}\r\n                            handleClick={this.handleAdoptDogClick} />\r\n                    </div>\r\n\r\n                </div>\r\n                <div>\r\n                    {this.state.adopted ? <Confirmation adopter={this.state.inLine} /> : null}\r\n                </div>\r\n                <div className='signupForm'>\r\n                    <form>\r\n                        <label htmlFor='adoption-sign-up'>Sign up to adopt!</label>\r\n                        <input\r\n                            name='signup'\r\n                            value={this.state.signup}\r\n                            onChange={event => this.handleSignupChange(event)}>\r\n                        </input>\r\n                        <button onClick={this.handleSignupSubmit}>Sign me up!</button>\r\n                    </form>\r\n                </div>\r\n                <Link to='/'><button>About</button></Link>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdoptionPage;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport LandingPage from '../Components/LandingPage/LandingPage';\r\nimport AdoptionPage from '../Components/AdoptionPage/AdoptionPage';\r\n\r\nfunction Root() {\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route exact path={'/'} component={LandingPage} />\r\n        <Route path={'/adopt'} component={AdoptionPage} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Root\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport Root from './root/Root'\r\n\r\n\r\nReactDOM.render(<BrowserRouter><Root /></BrowserRouter>, document.getElementById('root'))\r\n"],"sourceRoot":""}