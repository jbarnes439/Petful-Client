(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{24:function(e,t,n){e.exports=n(42)},25:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){e.exports=n.p+"static/media/cats-and-dogs.057f83de.jpg"},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);n(25);var a=n(0),o=n.n(a),r=n(15),c=n.n(r),i=n(6),l=n(5);n(30);var u=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Petful"),o.a.createElement("h2",null,"Our Mission:"),o.a.createElement("section",null,"We aim to be a FIFO (first in first out) adoption center, where our first pet in is our first pet homed. Guaranteeing that all pets that come through our doors are homed."),o.a.createElement("h3",null,"How it works:"),o.a.createElement("section",null,"Our policy is to adopt out pets in the order in which they came to us to ensure every pet is adopted. We also apply this same principal to the selection process, where the prospective owners are allowed to adopt in the order in which they signed up to adopt."),o.a.createElement(i.b,{to:"/adopt"},o.a.createElement("button",null,"Adopt!")),o.a.createElement("img",{src:n(36),alt:"A group of cats and dogs waiting for you!"}))},s=n(12),p=n.n(s),d=n(18),h=n(19),m=n(20),f=n(22),g=n(21),E=n(23),A={REACT_APP_API_BASE:"https://obscure-dusk-71542.herokuapp.com/api"},v={getCats:function(){return fetch("".concat(A.API_ENDPOINT,"/cats")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getDogs:function(){return fetch("".concat(A.API_ENDPOINT,"/dogs")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},dequeueAdoptedDog:function(){fetch("".concat(A.API_ENDPOINT,"/dogs"),{method:"DELETE"})},dequeueAdoptedCat:function(){fetch("".concat(A.API_ENDPOINT,"/cats"),{method:"DELETE"})},getPeople:function(){return fetch("".concat(A.API_ENDPOINT,"/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},dequeuePerson:function(){fetch("".concat(A.API_ENDPOINT,"/people"),{method:"DELETE",headers:{"Content-Type":"application/json"}})},addPerson:function(e){var t={name:e};fetch("".concat(A.API_ENDPOINT,"/people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}},P=(n(38),function(e){return o.a.createElement("div",{className:"pet-card"},o.a.createElement("img",{src:e.pet.imageURL,alt:e.pet.description}),o.a.createElement("section",null,o.a.createElement("p",null,"Age: ",e.pet.age),o.a.createElement("p",null,"Breed: ",e.pet.breed),o.a.createElement("p",null,"Description: ",e.pet.description),o.a.createElement("p",null,"Gender: ",e.pet.gender),o.a.createElement("p",null,"Name: ",e.pet.name),o.a.createElement("p",null,"Story: ",e.pet.story)),e.readyToAdopt?o.a.createElement("button",{onClick:function(t){return e.handleClick(t)}},"Adopt me!"):o.a.createElement("button",{onClick:function(t){return e.handleClick(t)},disabled:!0},"Adopt me!"))}),y=(n(39),function(e){return o.a.createElement("div",{className:"people-card"},o.a.createElement("section",null,o.a.createElement("h4",null,"Turn to adopt: ",e.people[0])),o.a.createElement("section",null,e.people.map((function(e,t){return o.a.createElement("p",{key:t},e)}))))}),D=(n(40),n(41),function(e){return o.a.createElement("div",{className:"confirmation-card"},o.a.createElement("section",null,o.a.createElement("h4",null,"Congratulations on your new family member ",e.adopter,"!")))});function C(e){return Math.floor(Math.random()*Math.floor(e))}var b=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={cat:{},dog:{},people:[],signup:"",inLine:"",turnToAdopt:"",readyToAdopt:!1,adopted:!1},n.startAdopting=function(){var e=setInterval((function(){n.state.people[1]===n.state.inLine&&(n.setState({readyToAdopt:!0}),clearInterval(e)),v.dequeuePerson(),v.addPerson(["Julian","Bubbles","Jacob Collins","George Green","Sam Losco"][C(4)]),v.getPeople().then((function(e){return n.setState({people:e})})),n.state.people.length%2===0?(v.dequeueAdoptedDog(),v.getDogs().then((function(e){return n.setState({dog:e})}))):(v.dequeueAdoptedCat(),v.getCats().then((function(e){return n.setState({cat:e})})))}),5e3)},n.handleAdoptDogClick=function(e){e.preventDefault(),v.dequeueAdoptedDog(),v.dequeuePerson(n.state.people[0]),v.getPeople().then((function(e){return n.setState({people:e})})),v.getDogs().then((function(e){n.setState({dog:e,readyToAdopt:!1,adopted:!0})}))},n.handleAdoptCatClick=function(e){e.preventDefault(),v.dequeueAdoptedCat(),v.dequeuePerson(n.state.people[0]),v.getPeople().then((function(e){return n.setState({people:e})})),v.getCats().then((function(e){n.setState({cat:e,readyToAdopt:!1,adopted:!0})}))},n.handleSignupChange=function(e){e.preventDefault(),n.setState({signup:e.target.value})},n.handleSignupSubmit=function(e){e.preventDefault(),n.setState({inLine:n.state.signup}),v.addPerson(n.state.signup),v.getPeople().then((function(e){return n.setState({people:e})}))},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getCats();case 2:return t=e.sent,e.next=5,v.getDogs();case 5:return n=e.sent,e.next=8,v.getPeople();case 8:a=e.sent,this.setState({cat:t,dog:n,people:a}),console.log("componetDidMount "+this.state.people[0]),this.state.people[0]==this.state.inLine&&this.setState({readyToAdopt:!0}),this.startAdopting();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"adoptionDiv"},o.a.createElement("div",{className:"centerDiv"},o.a.createElement(y,{people:this.state.people})),o.a.createElement("div",{className:"leftDiv"},o.a.createElement(P,{readyToAdopt:this.state.readyToAdopt,inLine:this.state.inLine,pet:this.state.cat,handleClick:this.handleAdoptCatClick})),o.a.createElement("div",{className:"rightDiv"},o.a.createElement(P,{readyToAdopt:this.state.readyToAdopt,inLine:this.state.inLine,pet:this.state.dog,handleClick:this.handleAdoptDogClick}))),o.a.createElement("div",null,this.state.adopted?o.a.createElement(D,{adopter:this.state.inLine}):null),o.a.createElement("div",{className:"signupForm"},o.a.createElement("form",null,o.a.createElement("label",{htmlFor:"adoption-sign-up"},"Sign up to adopt!"),o.a.createElement("input",{name:"signup",value:this.state.signup,onChange:function(t){return e.handleSignupChange(t)}}),o.a.createElement("button",{onClick:this.handleSignupSubmit},"Sign me up!"))),o.a.createElement(i.b,{to:"/"},o.a.createElement("button",null,"About")))}}]),t}(a.Component);var S=function(){return o.a.createElement("div",null,o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:u}),o.a.createElement(l.a,{path:"/adopt",component:b})))};c.a.render(o.a.createElement(i.a,null,o.a.createElement(S,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.b408d406.chunk.js.map